{"version":3,"sources":["stores/modules/appViewer.js","stores/index.js","containers/AppViewer/ImageryLayers.js","containers/AppViewer/GeoJson.js","containers/AppViewer/Czml.js","containers/AppViewer/EventHandler.js","containers/AppViewer/Entitys.js","containers/AppViewer/index.js","containers/ToolBar/index.js","containers/LocationBar/index.js","App.js","utils/serviceWorker.js","index.js","../external \"Cesium\"","containers/LocationBar/index.module.css","App.module.css","containers/ToolBar/index.module.css"],"names":["td_img_imageryProvider","url","layer","style","format","tileMatrixSetID","maximumLevel","td_cia_imageryProvider","appViewer","cesiumAccessToken","imageryProviders","observable","action","destination","_this","czmlData","_this2","geoJsonData","_this3","positionData","_this4","stores","ImageryLayers","console","log","react_default","a","createElement","resium_es","this","props","map","item","i","key","imageryProvider","WebMapTileServiceImageryProvider","PureComponent","withCesium","_ref","cesium","data","onLoad","viewer","flyTo","CzmlDataSource","EventHandler","inject","e","endPosition","_this$props","_this$props$cesium","camera","globe","setPositionData","Cartesian2","ellipsoid","arguments","length","undefined","Ellipsoid","WGS84","cartesian","pickEllipsoid","defined","cartographic","cartesianToCartographic","longitude","CesiumMath","toDegrees","toFixed","latitude","elevation","Math","ceil","getHeight","long","lat","height","positionCartographic","getMousePointPosition","_handleMouseMoveEvent","bind","type","ScreenSpaceEventType","MOUSE_MOVE","Entitys","entityPosition","Cartesian3","fromDegrees","name","position","pixelSize","color","Color","CRIMSON","outlineWidth","outlineColor","LIGHTCORAL","Ion","defaultAccessToken","appViewerStore","AppViewer","observer","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","scene","debugShowFramesPerSecond","cesiumWidget","creditContainer","display","tileset","zoomTo","_this$props$appViewer","CesiumTerrainProvider","IonResource","fromAssetId","full","animation","shouldAnimate","baseLayerPicker","timeline","geocoder","ref","cesiumElement","AppViewer_ImageryLayers","AppViewer_EventHandler","AppViewer_Entitys","AppViewer_GeoJson","AppViewer_Czml","Component","czmlMenu","menu","onClick","__webpack_require__","then","t","_ref2","czmlBox","default","setCzmlData","_ref3","satelliteCzml","_ref4","dynamicPoint","_ref5","pathCzml","Item","geoJsonMenu","_ref6","_ref7","pointGeoJson","setGeoJsonData","_ref8","simplestylesGeojson","_ref9","statestopoGeojson","ToolBar","_className","concat","styles","toolbar","className","dropdown","overlay","es_button","marginRight","marginBottom","icon","LocationBar","locationbar","locationcamera","distancelegend","App","Fragment","containers_ToolBar","containers_LocationBar","containers_AppViewer","Boolean","window","location","hostname","match","ReactDOM","render","index_module","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports","Cesium"],"mappings":"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","file":"static/js/main.9ae07fba.chunk.js","sourcesContent":["import { observable, action } from 'mobx';\r\n\r\nconst cesiumAccessToken =\r\n  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJiOGQ2NzAwYS05MDY4LTRmYzMtYTcxZi0wNjNiYmE3MGM5OWYiLCJpZCI6NTc3Nywic2NvcGVzIjpbImFzciIsImdjIl0sImlhdCI6MTU0NDE1MzY1NH0.wVfPywSemmFgFwPErzK5ovEqAcrXFNsfr59leudVLsI';\r\nconst td_img_imageryProvider = {\r\n  url:\r\n    'http://t0.tianditu.gov.cn/img_w/wmts?service=wmts&request=GetTile&version=1.0.0&LAYER=img&tileMatrixSet=w&TileMatrix={TileMatrix}&TileRow={TileRow}&TileCol={TileCol}&style=default&format=tiles&tk=e60679f6e9718d3426f745fd8cd94cbd',\r\n  layer: 'tdtBasicLayer',\r\n  style: 'default',\r\n  format: 'image/jpeg',\r\n  tileMatrixSetID: 'GoogleMapsCompatible',\r\n  maximumLevel: 18\r\n};\r\nconst td_cia_imageryProvider = {\r\n  url:\r\n    'http://t0.tianditu.gov.cn/cia_w/wmts?service=wmts&request=GetTile&version=1.0.0&LAYER=cia&tileMatrixSet=w&TileMatrix={TileMatrix}&TileRow={TileRow}&TileCol={TileCol}&style=default.jpg&tk=e60679f6e9718d3426f745fd8cd94cbd',\r\n  layer: 'tdtAnnoLayer',\r\n  style: 'default',\r\n  format: 'image/jpeg',\r\n  tileMatrixSetID: 'GoogleMapsCompatible',\r\n  maximumLevel: 18\r\n};\r\nconst geoJsonData = null;\r\nconst czmlData = null;\r\nconst destination = null;\r\nconst positionData = null;\r\n\r\nclass AppViewer {\r\n  cesiumAccessToken = cesiumAccessToken;\r\n  td_img_imageryProvider = td_img_imageryProvider;\r\n  td_cia_imageryProvider = td_cia_imageryProvider;\r\n  imageryProviders = [td_img_imageryProvider, td_cia_imageryProvider]\r\n\r\n  @observable czmlData = czmlData;\r\n  @observable geoJsonData = geoJsonData;\r\n  @observable destination = destination;\r\n  @observable positionData = positionData;\r\n\r\n  @action\r\n  setDestination = destination => (this.destination = destination);\r\n  @action\r\n  setCzmlData = czmlData => (this.czmlData = czmlData);\r\n  @action\r\n  setGeoJsonData = geoJsonData => (this.geoJsonData = geoJsonData);\r\n  @action\r\n  setPositionData = positionData => (this.positionData = positionData);\r\n}\r\n\r\nexport default new AppViewer();\r\n","import appViewer from './modules/appViewer'\r\n\r\nexport default {\r\n  appViewer\r\n};","import React, { PureComponent } from 'react';\r\nimport { WebMapTileServiceImageryProvider } from 'cesium';\r\nimport { ImageryLayer, ImageryLayerCollection } from 'resium';\r\nimport memoize from 'memoize-one';\r\n// console.log(React.memo);\r\n\r\n\r\n// const imageryProvider = memoize(imageryProvider => new WebMapTileServiceImageryProvider(imageryProvider));\r\nconst imageryProvider = imageryProvider => new WebMapTileServiceImageryProvider(imageryProvider);\r\n\r\n// const ImageryLayers = ({ imageryProviders }) => {\r\n//   return (\r\n//     <ImageryLayerCollection>\r\n//       {imageryProviders.map((item, i) => {\r\n//         return <ImageryLayer key={i} imageryProvider={imageryProvider(item)} />;\r\n//       })}\r\n//     </ImageryLayerCollection>\r\n//   );\r\n// };\r\n\r\nclass ImageryLayers extends PureComponent {\r\n  render() {\r\n    console.log('ImageryLayers render');\r\n    return (\r\n      <ImageryLayerCollection>\r\n        {this.props.imageryProviders.map((item, i) => {\r\n          return <ImageryLayer key={i} imageryProvider={imageryProvider(item)} />;\r\n        })}\r\n      </ImageryLayerCollection>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageryLayers;\r\n","import React from 'react';\r\nimport { GeoJsonDataSource, withCesium } from 'resium';\r\n\r\nconst GeoJson = ({ cesium, geoJsonData }) => {\r\n  return geoJsonData ? (\r\n    <GeoJsonDataSource data={geoJsonData} onLoad={geoJsonData => cesium.viewer.flyTo(geoJsonData)} />\r\n  ) : null;\r\n};\r\n\r\nexport default withCesium(GeoJson);\r\n","import React, { Component } from 'react';\r\nimport { CzmlDataSource, withCesium } from 'resium';\r\n\r\nconst Czml = ({ cesium, czmlData }) => {\r\n  return czmlData ? (\r\n    <CzmlDataSource data={czmlData} onLoad={CzmlDataSource => cesium.viewer.flyTo(CzmlDataSource)} />\r\n  ) : null;\r\n};\r\n\r\nexport default withCesium(Czml);\r\n","import React, { PureComponent } from 'react';\r\nimport { inject } from 'mobx-react';\r\nimport { KeyboardEventModifier, ScreenSpaceEventType, Ellipsoid, defined, Math as CesiumMath, Globe } from 'cesium';\r\nimport { ScreenSpaceEventHandler, ScreenSpaceEvent, withCesium } from 'resium';\r\n\r\n/**\r\n *获取实例的二维笛卡尔点的经度、纬度、相机高度、海拔高度\r\n *\r\n * @param {*} camera\r\n * @param {*} globe\r\n * @param {*} Cartesian2\r\n * @param {*} [ellipsoid=Ellipsoid.WGS84]\r\n * @returns\r\n */\r\nconst getMousePointPosition = (camera, globe, Cartesian2, ellipsoid = Ellipsoid.WGS84) => {\r\n  // 通过指定的椭球或者地图对应的坐标系，将鼠标的二维坐标转换为对应椭球体三维坐标\r\n  const cartesian = camera.pickEllipsoid(Cartesian2);\r\n  if (!defined(cartesian)) return null;\r\n\r\n  // 将笛卡尔坐标转换为地理坐标\r\n  const cartographic = ellipsoid.cartesianToCartographic(cartesian);\r\n  // 将弧度转为度的十进制度表示\r\n  const longitude = CesiumMath.toDegrees(cartographic.longitude).toFixed(6);\r\n  const latitude = CesiumMath.toDegrees(cartographic.latitude).toFixed(6);\r\n  // 获取海拔高度\r\n  const elevation = Math.ceil(globe.getHeight(cartographic));\r\n  // 获取相机高度\r\n  const height = Math.ceil(camera.positionCartographic.height) - elevation;\r\n\r\n  return {\r\n    long: longitude,\r\n    lat: latitude,\r\n    height: height,\r\n    elevation: elevation\r\n  };\r\n};\r\n\r\n@inject('appViewer')\r\nclass EventHandler extends PureComponent {\r\n  _handleEvent(e) {\r\n    console.log(e);\r\n  }\r\n\r\n  _handleMouseMoveEvent({ endPosition }) {\r\n    const {\r\n      cesium: { camera, globe },\r\n      appViewer: { setPositionData }\r\n    } = this.props;\r\n    const positionData = getMousePointPosition(camera, globe, endPosition);\r\n    if (!positionData) return false;\r\n    setPositionData(positionData);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <ScreenSpaceEventHandler>\r\n        <ScreenSpaceEvent action={this._handleMouseMoveEvent.bind(this)} type={ScreenSpaceEventType.MOUSE_MOVE} />\r\n      </ScreenSpaceEventHandler>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withCesium(EventHandler);\r\n","import React, { PureComponent } from 'react';\r\nimport { Color, Cartesian3 } from 'cesium';\r\nimport { Entity, PointGraphics, EntityDescription } from 'resium';\r\n\r\nclass Entitys extends PureComponent {\r\n  render() {\r\n    const entityPosition = Cartesian3.fromDegrees(105.0707383, 30.7117244, 100);\r\n    return (\r\n      <Entity name=\"Sokyo\" position={entityPosition}>\r\n        <PointGraphics pixelSize={25} color={Color.CRIMSON} outlineWidth={5} outlineColor={Color.LIGHTCORAL} />\r\n        <EntityDescription>\r\n          <h1>Hello, world.</h1>\r\n          <p>JSX is available here!</p>\r\n        </EntityDescription>\r\n      </Entity>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Entitys;\r\n","import React, { Component } from 'react';\r\nimport { observer, inject } from 'mobx-react';\r\nimport { Ion, Cartesian3, CesiumTerrainProvider, IonResource, Color } from 'cesium';\r\nimport { Viewer, CameraFlyTo, Cesium3DTileset } from 'resium';\r\nimport appViewerStore from '@/stores/modules/appViewer';\r\nimport ImageryLayers from './ImageryLayers';\r\nimport GeoJson from './GeoJson';\r\nimport Czml from './Czml';\r\nimport EventHandler from './EventHandler';\r\nimport Entitys from './Entitys';\r\n\r\nIon.defaultAccessToken = appViewerStore.cesiumAccessToken;\r\n\r\n@inject('appViewer')\r\n@observer\r\nclass AppViewer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      viewer: null\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.viewer) {\r\n      this.viewer.scene.debugShowFramesPerSecond = true;\r\n      this.viewer.cesiumWidget.creditContainer.style.display = 'none';\r\n    }\r\n  }\r\n\r\n  _handleReady(tileset) {\r\n    console.log(tileset);\r\n\r\n    if (this.viewer) {\r\n      this.viewer.zoomTo(tileset);\r\n    }\r\n  }\r\n\r\n  _handleEvent(e) {\r\n    console.log(e);\r\n  }\r\n\r\n  render() {\r\n    const { geoJsonData, czmlData, destination, imageryProviders } = this.props.appViewer;\r\n    const terrainProvider = new CesiumTerrainProvider({\r\n      url: IonResource.fromAssetId(3956)\r\n    });\r\n\r\n    console.log('AppViewer render');\r\n\r\n    return (\r\n      <Viewer\r\n        full\r\n        animation={false}\r\n        shouldAnimate={true}\r\n        baseLayerPicker={false}\r\n        timeline={false}\r\n        geocoder={false}\r\n        // terrainProvider={terrainProvider}\r\n        ref={e => {\r\n          this.viewer = e && e.cesiumElement;\r\n        }}\r\n      >\r\n        <ImageryLayers imageryProviders={imageryProviders} />\r\n        <EventHandler />\r\n        <Entitys />\r\n        {destination ? <CameraFlyTo destination={destination} /> : null}\r\n        <GeoJson geoJsonData={geoJsonData} />\r\n        <Czml czmlData={czmlData} />\r\n        {/* <Cesium3DTileset url={IonResource.fromAssetId(5714)} onReady={this._handleReady.bind(this)} /> */}\r\n      </Viewer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AppViewer;\r\n","import React, { PureComponent } from 'react';\r\nimport { Menu, Dropdown, Button, Icon } from 'antd';\r\nimport { inject } from 'mobx-react';\r\nimport styles from './index.module.css';\r\nimport appViewerStore from '@/stores/modules/appViewer';\r\n\r\nconst handleCzmlMenuClick = ({ key: type }) => {\r\n  if (type === 'Box') {\r\n    import('@/data/czml/czmlBox').then(({ default: czmlBox }) => {\r\n      appViewerStore.setCzmlData(czmlBox);\r\n    });\r\n  } else if (type === 'Satellite') {\r\n    import('@/data/czml/satelliteCzml').then(({ default: satelliteCzml }) => {\r\n      appViewerStore.setCzmlData(satelliteCzml);\r\n    });\r\n  } else if (type === 'DynamicPoint') {\r\n    import('@/data/czml/dynamicPoint').then(({ default: dynamicPoint }) => {\r\n      appViewerStore.setCzmlData(dynamicPoint);\r\n    });\r\n  } else if (type === 'Path') {\r\n    import('@/data/czml/pathCzml').then(({ default: pathCzml }) => {\r\n      appViewerStore.setCzmlData(pathCzml);\r\n    });\r\n  }\r\n};\r\n\r\nconst czmlMenu = (\r\n  <Menu onClick={handleCzmlMenuClick}>\r\n    <Menu.Item key=\"Box\">Box</Menu.Item>\r\n    <Menu.Item key=\"Satellite\">Satellite</Menu.Item>\r\n    <Menu.Item key=\"DynamicPoint\">DynamicPoint</Menu.Item>\r\n    <Menu.Item key=\"Path\">Path</Menu.Item>\r\n  </Menu>\r\n);\r\n\r\nconst handleGeoJsonClick = ({ key: type }) => {\r\n  if (type === 'Point') {\r\n    import('@/data/geoJson/pointGeoJson').then(({ default: pointGeoJson }) => {\r\n      appViewerStore.setGeoJsonData(pointGeoJson);\r\n    });\r\n  } else if (type === 'Simple Styles') {\r\n    import('@/data/geoJson/simplestylesGeojson').then(({ default: simplestylesGeojson }) => {\r\n      appViewerStore.setGeoJsonData(simplestylesGeojson);\r\n    });\r\n  } else if (type === 'Population') {\r\n    import('@/data/geoJson/statestopoGeojson').then(({ default: statestopoGeojson }) => {\r\n      appViewerStore.setGeoJsonData(statestopoGeojson);\r\n    });\r\n  }\r\n};\r\n\r\nconst geoJsonMenu = (\r\n  <Menu onClick={handleGeoJsonClick}>\r\n    <Menu.Item key=\"Point\">Point</Menu.Item>\r\n    <Menu.Item key=\"Simple Styles\">Simple Styles</Menu.Item>\r\n    <Menu.Item key=\"Population\">Population</Menu.Item>\r\n  </Menu>\r\n);\r\n\r\n@inject('appViewer')\r\nclass ToolBar extends PureComponent {\r\n  constructor() {\r\n    super();\r\n    this.state = {};\r\n  }\r\n\r\n  componentDidMount() {}\r\n\r\n  render() {\r\n    const { setCzmlData, setGeoJsonData } = this.props.appViewer;\r\n    const _className = `${styles.toolbar} ${this.props.className ? this.props.className : ''} `;\r\n    return (\r\n      <div className={_className}>\r\n        <Dropdown overlay={czmlMenu}>\r\n          <Button type=\"primary\" style={{ marginRight: 10, marginBottom: 10 }}>\r\n            Render czml and fly to <Icon type=\"down\" />\r\n          </Button>\r\n        </Dropdown>\r\n        <Dropdown overlay={geoJsonMenu}>\r\n          <Button type=\"primary\">\r\n            Render geojson and fly to <Icon type=\"down\" />\r\n          </Button>\r\n        </Dropdown>\r\n        {/* <Button\r\n          type=\"primary\"\r\n          style={{ marginLeft: 10 }}\r\n          onClick={event => {\r\n            setGeoJsonData(pointGeoJson);\r\n          }}\r\n        >\r\n          Render geojson and fly to\r\n        </Button> */}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ToolBar;\r\n","import React, { Component } from 'react';\r\nimport styles from './index.module.css';\r\nimport { inject, observer } from 'mobx-react';\r\n\r\n@inject('appViewer')\r\n@observer\r\nclass LocationBar extends Component {\r\n  _className = `${styles.locationbar} ${this.props.className ? this.props.className : ''} `;\r\n\r\n  render() {\r\n    const { positionData } = this.props.appViewer;\r\n    const { long, lat, height, elevation } = positionData\r\n      ? positionData\r\n      : { long: null, lat: null, height: null, elevation: null };\r\n\r\n    return (\r\n      <div className={this._className}>\r\n        <div>\r\n          {height ? <span className={styles.locationcamera}>视点高：{height}米</span> : null}\r\n          {/* {height ? <span className={styles.locationcamera}>俯仰角：-34度</span> : null} */}\r\n          {/* {height ? <span className={styles.locationcamera}>视角方向：86度</span> : null} */}\r\n          {elevation ? <span className={styles.locationcamera}>海拔：{elevation}米</span> : null}\r\n          {long ? <span className={styles.locationcamera}>经度：{long}</span> : null}\r\n          {lat ? <span className={styles.locationcamera}>纬度：{lat}</span> : null}\r\n        </div>\r\n        <div className={styles.distancelegend}>比例尺</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LocationBar;\r\n","import React, { Component } from 'react';\nimport { hot } from 'react-hot-loader';\nimport AppViewer from './containers/AppViewer';\nimport ToolBar from './containers/ToolBar';\nimport LocationBar from './containers/LocationBar';\nimport styles from './App.module.css';\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {};\n  }\n\n  componentDidMount() {}\n\n  render() {\n    return (\n      <>\n        <ToolBar className={styles.toolbar} />\n        <LocationBar className={styles.locationbar} />\n        <AppViewer />\n      </>\n    );\n  }\n}\n\nexport default hot(module)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'mobx-react';\nimport stores from './stores';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './utils/serviceWorker';\n\nReactDOM.render(\n  <Provider {...stores}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = Cesium;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"locationbar\":\"LocationBar_locationbar__OXNRU\",\"locationcamera\":\"LocationBar_locationcamera__amrUl\",\"distancelegend\":\"LocationBar_distancelegend__2GvWI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toolbar\":\"App_toolbar__1X7h7\",\"locationbar\":\"App_locationbar__Z6v-r\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toolbar\":\"ToolBar_toolbar__1rNFa\"};"],"sourceRoot":""}